{"ast":null,"code":"import _slicedToArray from\"/Users/diegolarraz/code/diegolarraz/my-react-translator/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import _regeneratorRuntime from\"/Users/diegolarraz/code/diegolarraz/my-react-translator/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/diegolarraz/code/diegolarraz/my-react-translator/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import React,{useEffect,useState}from\"react\";import axios from\"axios\";var doTranslation=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(input,languageCode,cancelToken){var _yield$axios$post,data;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return axios.post(\"https://translation.googleapis.com/language/translate/v2?key=AIzaSyCf0Xy0OnhxlduyEt3K8zP-sOuu-l_u6uA\",{q:input,target:languageCode},{cancelToken:cancelToken.token});case 3:_yield$axios$post=_context.sent;data=_yield$axios$post.data;return _context.abrupt(\"return\",data.data.translations[0].translatedText);case 8:_context.prev=8;_context.t0=_context[\"catch\"](0);return _context.abrupt(\"return\",\"\");case 11:case\"end\":return _context.stop();}}},_callee,null,[[0,8]]);}));return function doTranslation(_x,_x2,_x3){return _ref.apply(this,arguments);};}();export default(function(_ref2){var language=_ref2.language,text=_ref2.text;var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),translated=_useState2[0],setTranslated=_useState2[1];useEffect(function(){if(!text){return;}var cancelToken=axios.CancelToken.source();doTranslation(text,language,cancelToken).then(setTranslated);return function(){try{cancelToken.cancel();}catch(err){}};},[text,language]);return/*#__PURE__*/React.createElement(\"div\",null,/*#__PURE__*/React.createElement(\"label\",{className:\"label\"},\"Output\"),/*#__PURE__*/React.createElement(\"h1\",{className:\"title\"},translated));});","map":{"version":3,"sources":["/Users/diegolarraz/code/diegolarraz/my-react-translator/src/components/translate.js"],"names":["React","useEffect","useState","axios","doTranslation","input","languageCode","cancelToken","post","q","target","token","data","translations","translatedText","language","text","translated","setTranslated","CancelToken","source","then","cancel","err"],"mappings":"ugBAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,CAA2BC,QAA3B,KAA2C,OAA3C,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CAEA,GAAMC,CAAAA,aAAa,0FAAG,iBAAOC,KAAP,CAAcC,YAAd,CAA4BC,WAA5B,mLAEKJ,CAAAA,KAAK,CAACK,IAAN,CACrB,sGADqB,CAErB,CACEC,CAAC,CAAEJ,KADL,CAEEK,MAAM,CAAEJ,YAFV,CAFqB,CAMrB,CAAEC,WAAW,CAAEA,WAAW,CAACI,KAA3B,CANqB,CAFL,wCAEVC,IAFU,mBAEVA,IAFU,iCAWXA,IAAI,CAACA,IAAL,CAAUC,YAAV,CAAuB,CAAvB,EAA0BC,cAXf,0FAaX,EAbW,sEAAH,kBAAbV,CAAAA,aAAa,oDAAnB,CAiBA,eAAe,eAAwB,IAArBW,CAAAA,QAAqB,OAArBA,QAAqB,CAAXC,IAAW,OAAXA,IAAW,eACDd,QAAQ,CAAC,EAAD,CADP,wCAC9Be,UAD8B,eAClBC,aADkB,eAGrCjB,SAAS,CAAC,UAAM,CACd,GAAI,CAACe,IAAL,CAAW,CACT,OACD,CAED,GAAMT,CAAAA,WAAW,CAAGJ,KAAK,CAACgB,WAAN,CAAkBC,MAAlB,EAApB,CAEAhB,aAAa,CAACY,IAAD,CAAOD,QAAP,CAAiBR,WAAjB,CAAb,CAA2Cc,IAA3C,CAAgDH,aAAhD,EAEA,MAAO,WAAM,CACX,GAAI,CACFX,WAAW,CAACe,MAAZ,GACD,CAAC,MAAOC,GAAP,CAAY,CAAE,CACjB,CAJD,CAKD,CAdQ,CAcN,CAACP,IAAD,CAAOD,QAAP,CAdM,CAAT,CAgBA,mBACE,4CACE,6BAAO,SAAS,CAAC,OAAjB,WADF,cAEE,0BAAI,SAAS,CAAC,OAAd,EAAuBE,UAAvB,CAFF,CADF,CAMD,CAzBD","sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport axios from \"axios\";\n\nconst doTranslation = async (input, languageCode, cancelToken) => {\n  try {\n    const { data } = await axios.post(\n      \"https://translation.googleapis.com/language/translate/v2?key=AIzaSyCf0Xy0OnhxlduyEt3K8zP-sOuu-l_u6uA\",\n      {\n        q: input,\n        target: languageCode\n      },\n      { cancelToken: cancelToken.token }\n    );\n\n    return data.data.translations[0].translatedText;\n  } catch (err) {\n    return \"\";\n  }\n};\n\nexport default ({ language, text }) => {\n  const [translated, setTranslated] = useState(\"\");\n\n  useEffect(() => {\n    if (!text) {\n      return;\n    }\n\n    const cancelToken = axios.CancelToken.source();\n\n    doTranslation(text, language, cancelToken).then(setTranslated);\n\n    return () => {\n      try {\n        cancelToken.cancel();\n      } catch (err) {}\n    };\n  }, [text, language]);\n\n  return (\n    <div>\n      <label className=\"label\">Output</label>\n      <h1 className=\"title\">{translated}</h1>\n    </div>\n  );\n};\n"]},"metadata":{},"sourceType":"module"}